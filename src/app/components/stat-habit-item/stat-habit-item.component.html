<div class="card shadow-sm h-100">
  <div class="card-body d-flex flex-row justify-content-between align-items-center p-3 p-md-4">
    <div class="d-flex align-items-center flex-grow-1 pe-3">
      <div class="d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;" *ngIf="data.iconUrl">
        <img [src]="data.iconUrl" [alt]="data.habitName + ' icon'" class="img-fluid rounded" style="max-width: 100%; max-height: 100%; object-fit: contain;" />
      </div>

      <div class="flex-grow-1">
        <h3 class="card-title lh-unset m-0 fs-5 fs-md-4 text-break">{{ data.habitName }}</h3>

        <div *ngIf="aggregate" class="d-flex flex-row align-items-center gap-3 mt-2">
          <ht-counter
            [icon]="'fa-solid fa-person-running'"
            [label]="'Total Check-Ins'"
            [value]="aggregate?.totalCheckIns || 0"
            [colorClass]="'text-primary'"
          ></ht-counter>
          <ht-counter
            [icon]="'fa-solid fa-medal'"
            [label]="'Best Streak'"
            [value]="aggregate?.bestStreak || 0"
            [colorStyle]="'#6f42c1'"
          ></ht-counter>
          <ht-counter
            [icon]="'fa-solid fa-fire'"
            [label]="'Current Streak'"
            [value]="aggregate?.currentStreak || 0"
            [colorClass]="'text-warning'"
          ></ht-counter>
        </div>
      </div>
    </div>

    <div class="d-flex align-items-center justify-content-end flex-shrink-0">
      <i class="fs-2 lh-unset fa-solid fa-check me-2"></i>
      <span class="fs-4 fs-md-3 text-nowrap">{{ data?.done}} / {{ data?.of}}</span>
    </div>
  </div>
</div>
